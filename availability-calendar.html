<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Availability — ES Transportation</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{--blue:#1565C0;--blue-light:#1E88E5;--blue-pale:#E3F2FD;--blue-dark:#0D2137;--green:#2e7d32;--green-bg:#e8f5e9;--red:#c62828;--red-bg:#ffebee;}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Montserrat',sans-serif;background:#f0f4f8;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:0 0 40px;}
.top-bar{width:100%;background:linear-gradient(135deg,var(--blue-dark),var(--blue));padding:16px 24px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;}
.top-bar h1{font-size:16px;font-weight:800;color:white;}
.top-bar p{font-size:11px;color:rgba(255,255,255,0.7);margin-top:2px;}
.back-btn{background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.3);color:white;border-radius:20px;padding:7px 16px;font-family:'Montserrat',sans-serif;font-size:12px;font-weight:700;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:6px;}
.back-btn:hover{background:rgba(255,255,255,0.25);}
.main{display:flex;gap:20px;width:100%;max-width:860px;padding:24px 16px 0;align-items:flex-start;}
.cal-card{background:white;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,0.10);flex:1;min-width:0;overflow:hidden;}
.cal-nav{display:flex;align-items:center;justify-content:space-between;padding:18px 22px 14px;border-bottom:1px solid #f0f0f0;}
.cal-nav-btn{background:var(--blue-pale);border:none;border-radius:8px;width:36px;height:36px;font-size:18px;cursor:pointer;color:var(--blue);font-weight:700;}
.cal-nav-btn:hover{background:#90CAF9;}
.cal-month-label{font-size:18px;font-weight:800;color:var(--blue-dark);}
.cal-days-header{display:grid;grid-template-columns:repeat(7,1fr);padding:12px 16px 6px;}
.cal-day-lbl{text-align:center;font-size:11px;font-weight:700;color:#bbb;text-transform:uppercase;letter-spacing:0.5px;}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;padding:6px 16px 18px;}
.cal-cell{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:15px;font-weight:700;cursor:default;transition:transform 0.1s,box-shadow 0.1s;user-select:none;}
.cal-cell.empty{background:transparent;}
.cal-cell.past{background:#f5f5f5;color:#ccc;}
.cal-cell.off{background:var(--red-bg);color:var(--red);}
.cal-cell.open{background:var(--green-bg);color:var(--green);cursor:pointer;}
.cal-cell.open:hover{transform:scale(1.08);box-shadow:0 4px 12px rgba(0,0,0,0.12);}
.cal-cell.today{outline:2px solid var(--blue);outline-offset:-2px;}
.cal-cell.selected{background:var(--blue)!important;color:white!important;outline:none;box-shadow:0 4px 14px rgba(21,101,192,0.4);}
.cal-legend{display:flex;gap:16px;justify-content:center;padding:12px 16px 16px;flex-wrap:wrap;border-top:1px solid #f0f0f0;}
.legend-item{display:flex;align-items:center;gap:6px;font-size:11px;font-weight:600;color:#666;}
.legend-dot{width:13px;height:13px;border-radius:4px;flex-shrink:0;}
.ld-open{background:var(--green-bg);border:1px solid #a5d6a7;}
.ld-off{background:var(--red-bg);border:1px solid #ef9a9a;}
.ld-today{background:white;border:2px solid var(--blue);}
.right-panel{width:240px;flex-shrink:0;display:flex;flex-direction:column;gap:14px;}
.tap-hint{background:white;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,0.08);padding:20px 16px;text-align:center;font-size:12px;font-weight:600;color:#aaa;line-height:1.6;}
.tap-hint .hint-icon{font-size:28px;display:block;margin-bottom:8px;}
.slots-box{background:white;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,0.10);overflow:hidden;display:none;}
.slots-box.active{display:block;}
.slots-box-header{background:var(--blue);padding:13px 16px;color:white;}
.slots-box-header .date-lbl{font-size:13px;font-weight:800;}
.slots-box-header .day-lbl{font-size:10px;opacity:0.75;margin-top:2px;}
.slots-body{padding:12px 14px 14px;}
.slot-row{display:flex;align-items:center;gap:8px;background:var(--green-bg);border:1px solid #c8e6c9;border-radius:8px;padding:9px 12px;margin-bottom:7px;font-size:12px;font-weight:700;color:var(--green);}
.slot-row:last-child{margin-bottom:0;}
.contact-card{background:linear-gradient(135deg,var(--blue-dark),var(--blue));border-radius:16px;padding:18px 16px;color:white;text-align:center;box-shadow:0 4px 20px rgba(21,101,192,0.3);}
.contact-card p{font-size:11px;opacity:0.8;margin-bottom:10px;line-height:1.5;}
.contact-card a{display:block;background:white;color:var(--blue);border-radius:8px;padding:11px;font-size:14px;font-weight:800;text-decoration:none;}
@media(max-width:640px){.main{flex-direction:column;padding:14px 12px 0;gap:14px;}.right-panel{width:100%;}.cal-cell{font-size:13px;}.cal-grid{gap:4px;padding:4px 12px 14px;}}
</style>
</head>
<body>
<div class="top-bar">
  <div><h1>&#128197; Check Availability</h1><p>ES Transportation &amp; Courier Services</p></div>
  <a class="back-btn" href="https://estransport.github.io/estransportcourier/personaldriver.html">&#8592; Back to Booking</a>
</div>
<div class="main">
  <div class="cal-card">
    <div class="cal-nav">
      <button class="cal-nav-btn" onclick="changeMonth(-1)">&#8592;</button>
      <span class="cal-month-label" id="calMonthLabel"></span>
      <button class="cal-nav-btn" onclick="changeMonth(1)">&#8594;</button>
    </div>
    <div class="cal-days-header">
      <div class="cal-day-lbl">Sun</div><div class="cal-day-lbl">Mon</div><div class="cal-day-lbl">Tue</div><div class="cal-day-lbl">Wed</div><div class="cal-day-lbl">Thu</div><div class="cal-day-lbl">Fri</div><div class="cal-day-lbl">Sat</div>
    </div>
    <div class="cal-grid" id="calGrid"></div>
    <div class="cal-legend">
      <div class="legend-item"><div class="legend-dot ld-open"></div>Available — tap for times</div>
      <div class="legend-item"><div class="legend-dot ld-off"></div>Unavailable</div>
      <div class="legend-item"><div class="legend-dot ld-today"></div>Today</div>
    </div>
  </div>
  <div class="right-panel">
    <div class="tap-hint" id="tapHint"><span class="hint-icon">&#128197;</span>Tap any <strong style="color:var(--green)">green date</strong> to see available time windows</div>
    <div class="slots-box" id="slotsBox">
      <div class="slots-box-header">
        <div class="date-lbl" id="slotsDateLbl"></div>
        <div class="day-lbl" id="slotsDayLbl"></div>
      </div>
      <div class="slots-body" id="slotsBody"></div>
    </div>
    <div class="contact-card">
      <p>Ready to book? Call or text us to confirm your ride.</p>
      <a href="tel:8329913705">&#128222; 832-991-3705</a>
    </div>
  </div>
</div>
<script>
const DEFAULT_SCHEDULE={0:["4:00 PM – 5:00 PM","6:00 PM – 12:00 AM"],1:["5:00 AM – 11:00 AM","2:00 PM – 5:00 PM","6:00 PM – 12:00 AM"],2:["5:00 AM – 11:00 AM","2:00 PM – 5:00 PM","6:00 PM – 12:00 AM"],3:["5:00 AM – 11:00 AM","2:00 PM – 5:00 PM","6:00 PM – 12:00 AM"],4:["5:00 AM – 11:00 AM","2:00 PM – 5:00 PM","6:00 PM – 12:00 AM"],5:["5:00 AM – 11:00 AM","2:00 PM – 5:00 PM","6:00 PM – 12:00 AM"],6:["5:00 AM – 11:00 AM","2:00 PM – 3:00 PM","6:00 PM – 12:00 AM"]};
const DATE_OVERRIDES = {};
const MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];
const DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
const today=new Date();let cY=today.getFullYear(),cM=today.getMonth(),selCell=null;
function toStr(d){return d.getFullYear()+'-'+String(d.getMonth()+1).padStart(2,'0')+'-'+String(d.getDate()).padStart(2,'0');}
function formatDate(ds){const[y,mo,d]=ds.split('-');return MONTHS[parseInt(mo)-1]+' '+parseInt(d)+', '+y;}
function getSlotsForDate(ds){if(DATE_OVERRIDES[ds]!==undefined)return DATE_OVERRIDES[ds];const dow=new Date(ds+'T12:00:00').getDay();return DEFAULT_SCHEDULE[dow]||["OFF"];}
function changeMonth(dir){cM+=dir;if(cM>11){cM=0;cY++;}if(cM<0){cM=11;cY--;}hideSlots();renderCal();}
function renderCal(){document.getElementById('calMonthLabel').textContent=MONTHS[cM]+' '+cY;const grid=document.getElementById('calGrid');grid.innerHTML='';const first=new Date(cY,cM,1).getDay(),days=new Date(cY,cM+1,0).getDate(),tStr=toStr(today);for(let i=0;i<first;i++){const e=document.createElement('div');e.className='cal-cell empty';grid.appendChild(e);}for(let d=1;d<=days;d++){const ds=toStr(new Date(cY,cM,d));const el=document.createElement('div');el.textContent=d;const isPast=ds<tStr,isToday=ds===tStr,slots=getSlotsForDate(ds),isOff=slots[0]==='OFF';if(isPast&&!isToday){el.className='cal-cell past';}else if(isOff){el.className='cal-cell off';}else{el.className='cal-cell open';el.onclick=()=>showSlots(ds,slots,el);}if(isToday)el.classList.add('today');grid.appendChild(el);}}
function showSlots(ds,slots,el){if(selCell)selCell.classList.remove('selected');selCell=el;el.classList.add('selected');const dow=new Date(ds+'T12:00:00').getDay();document.getElementById('slotsDateLbl').textContent=formatDate(ds);document.getElementById('slotsDayLbl').textContent=DAYS[dow];const body=document.getElementById('slotsBody');body.innerHTML='';slots.forEach(s=>{const r=document.createElement('div');r.className='slot-row';r.innerHTML='⏰ '+s;body.appendChild(r);});document.getElementById('tapHint').style.display='none';document.getElementById('slotsBox').classList.add('active');}
function hideSlots(){document.getElementById('slotsBox').classList.remove('active');document.getElementById('tapHint').style.display='block';if(selCell){selCell.classList.remove('selected');selCell=null;}}
renderCal();
</script>
</body>
</html>